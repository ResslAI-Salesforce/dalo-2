{
  "id": "email",
  "channels": ["email"],
  "skills": ["./skills"],
  "configSchema": {
    "type": "object",
    "additionalProperties": false,
    "properties": {
      "gmailAddress": {
        "type": "string"
      },
      "credentialsPath": {
        "type": "string"
      },
      "tokenPath": {
        "type": "string"
      },
      "projectId": {
        "type": "string"
      },
      "pubsubTopic": {
        "type": "string"
      },
      "pubsubSubscription": {
        "type": "string"
      },
      "pushToken": {
        "type": "string"
      },
      "watchLabel": {
        "type": "string",
        "default": "INBOX"
      },
      "dmPolicy": {
        "type": "string",
        "enum": ["disabled", "allowlist", "pairing", "open"],
        "default": "allowlist"
      },
      "allowFrom": {
        "type": "array",
        "items": { "type": "string" }
      },
      "preserveCc": {
        "type": "boolean",
        "default": true
      },
      "signature": {
        "type": "string"
      },
      "servePort": {
        "type": "integer",
        "minimum": 1,
        "default": 8788
      },
      "serveBind": {
        "type": "string",
        "default": "127.0.0.1"
      },
      "renewEveryMinutes": {
        "type": "integer",
        "minimum": 1,
        "default": 720
      }
    }
  },
  "uiHints": {
    "gmailAddress": {
      "label": "Gmail Address",
      "placeholder": "bot@example.com"
    },
    "credentialsPath": {
      "label": "OAuth Credentials Path",
      "placeholder": "~/.config/gogcli/credentials.json"
    },
    "tokenPath": {
      "label": "OAuth Token Path",
      "placeholder": "~/.config/gogcli/token.json"
    },
    "projectId": {
      "label": "GCP Project ID",
      "placeholder": "my-project-123"
    },
    "pubsubTopic": {
      "label": "Pub/Sub Topic",
      "placeholder": "projects/my-project/topics/gmail-push"
    },
    "pushToken": {
      "label": "Pub/Sub Push Token",
      "sensitive": true
    },
    "dmPolicy": {
      "label": "Inbound Policy"
    },
    "allowFrom": {
      "label": "Inbound Allowlist"
    },
    "preserveCc": {
      "label": "Preserve CC on Replies"
    },
    "signature": {
      "label": "Email Signature",
      "placeholder": "Sent by Dalo"
    },
    "servePort": {
      "label": "Pub/Sub Serve Port",
      "placeholder": "8788",
      "advanced": true
    },
    "serveBind": {
      "label": "Pub/Sub Serve Bind",
      "placeholder": "127.0.0.1",
      "advanced": true
    },
    "renewEveryMinutes": {
      "label": "Watch Renewal Interval (minutes)",
      "placeholder": "720",
      "advanced": true
    }
  }
}
